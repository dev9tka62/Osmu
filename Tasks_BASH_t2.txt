#!/usr/bin/env bash

# Сценарий для завершения процесса по его имени, включая все дочерние процессы.

#Получаем строку с ID требуемого процесса.
process_id=$(ps -ef | grep $1 | head -n 1 | awk '{print $2;}')

if [ -z "$process_id" ]; then
    echo "Process not found" && exit 1; #выводим сообщения, что требуемый процесс не найден.
else    

    #Получаем ID-ы всех трудников, являющимися "дочками" сотрудника, ID-которого указан.  
    children=$(ps -ef --ppid $process_id | awk '{print $2;}')